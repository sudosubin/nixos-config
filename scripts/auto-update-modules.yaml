modules:
  - path: ./libraries/nixpkgs/programs/cleanshot/default.nix
    args:
      read_from_file: ["url"]
      read_from_method: ["version"]
      write: ["version", "sha256"]
    methods:
      get_version: |-
        echo "4.6.2"

  - path: ./libraries/nixpkgs/programs/clop/default.nix
    args:
      read_from_file: ["url"]
      read_from_method: ["version"]
      write: ["version", "sha256"]
    methods:
      get_version: |-
        gh api /repos/FuzzyIdeas/Clop/releases/latest -q ".tag_name" | sed "s/v//g"

  - path: ./libraries/nixpkgs/programs/deskpad/default.nix
    args:
      read_from_file: ["url"]
      read_from_method: ["version"]
      write: ["version", "sha256"]
    methods:
      get_version: |-
        gh api /repos/Stengo/DeskPad/releases/latest -q ".tag_name" | sed "s/v//g"

  - path: ./libraries/nixpkgs/programs/git-spr/default.nix
    args:
      read_from_file: ["url"]
      read_from_method: ["version"]
      write: ["version", "sha256"]
    methods:
      get_version: |-
        gh api /repos/ejoffe/spr/releases/latest -q ".name" | sed "s/v//g"

  - path: ./libraries/nixpkgs/programs/hammerspoon/default.nix
    args:
      read_from_file: ["url"]
      read_from_method: ["version"]
      write: ["version", "sha256"]
    methods:
      get_version: |-
        gh api /repos/Hammerspoon/hammerspoon/releases/latest -q ".name"

  - path: ./libraries/nixpkgs/programs/homerow/default.nix
    args:
      read_from_file: ["url"]
      read_from_method: ["version"]
      write: ["version", "sha256"]
    methods:
      get_version: |-
        curl -s https://www.homerow.app/appcast.xml \
          | grep -m2 "title" \
          | tail -n1 \
          | sed -r "s|.*>([0-9.]+)<.*|\1|g"

  - path: ./libraries/nixpkgs/programs/redisinsight/default.nix
    args:
      read_from_file: ["url"]
      read_from_method: ["version"]
      write: ["version", "sha256"]
    methods:
      get_version: |-
        gh api /repos/redis/RedisInsight/releases/latest -q ".tag_name"
